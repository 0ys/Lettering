# MSA 주의 사항

- 서버 방식
    - docker compose.yml에 컨테이너 명시 및 docker compose 실행을 통한 관리
    - 예시인증서버 push하면 인증서버만 새로 떠야함
- 단점
    - 진행시 26개, 타 팀은 2~3개
    - 변경사항이 많으면 터짐(10개 정도 재 build후 배포시에)
        - 변경 사항이 있으면 이미지를 새로 빌드하기 때문 → 서버에 무리가 가는 듯
            - 컨테이너 개별적으로 이미지 빌드하는 방식( 한 개씩 죽이고 재빌드 /docker down → X)으로 보완 할 수 있을 듯
    - 도메인별로 잘게 나눈다 → 서버가 많아져서 관리가 힘들다.
- 학습 및 적용 필요
    - 유레카, config 서버, 클라우드 버스
        - 유레카, config, Spring Cloud Gateway 공부해봐야할듯
        - 유레카: 포트번호 스케일링, 네트워크에 타 스프링 서버에 포트 번호 저장
    - 서비스 디스커버리?
        - Eureka와 연동하여 자동 라우팅

# MSA 학습

---

- 서비스 유형 분류 기준( 이 중 1가지 고르기기~~)
    1. **트래픽 패턴 기반**
        
        
        | **분류** | **특징** | **예제** |
        | --- | --- | --- |
        | **항상 높은 트래픽을 받는 서비스** | 대부분의 사용자 요청이 몰리는 서비스 | **`회원 인증 (Auth)`**, **`상품 조회`** |
        | **특정 시간에 트래픽이 몰리는 서비스** | 이벤트성 트래픽이 발생하는 서비스 | **`주문 (Order)`**, **`결제 (Payment)`** |
        | **항상 유지되어야 하는 서비스** | 장애 발생 시 전체 서비스 중단 위험 | **`회원 데이터 관리`**, **`결제 서비스`**, **`Kafka, Redis`** |
        | **배치성 서비스** | 실시간 응답이 필요 없고 주기적으로 실행 | **`데이터 백업`**, **`추천 시스템`** |
        | **느린 데이터 처리 서비스** | 비동기적으로 처리 가능 | **`이메일 전송`**, **`푸시 알림`** |
    2. **비즈니스 로직 기반**
        
        
        | **서비스 유형** | **설명** | **예제** |
        | --- | --- | --- |
        | **필수 서비스 (코어 서비스)** | 없으면 서비스가 동작 불가 | **`사용자 관리(User)`**, **`상품 관리(Product)`**, **`주문 관리(Order)`**, **`결제 서비스(Payment)`** |
        | **보조 서비스** | 장애 발생 시도 핵심 서비스는 유지됨 | **`푸시 알림`**, **`이메일 전송`**, **`추천 시스템`** |
        | **데이터 처리 서비스** | 데이터 분석 및 로그 저장 | **`배치 처리`**, **`로그 수집`**, **`데이터 마이그레이션`** |
    3. **데이터 접근 패턴 기반**
        
        
        | **읽기 중심 서비스 (Read-Heavy)** | 데이터 조회가 많고 쓰기가 적음 | **`상품 조회`**, **`주문 내역 조회`** |
        | --- | --- | --- |
        | **쓰기 중심 서비스 (Write-Heavy)** | 데이터 저장/수정 요청이 많음 | **`회원 가입`**, **`주문 생성`**, **`결제 요청`** |
        | **혼합형 서비스** |  |  |